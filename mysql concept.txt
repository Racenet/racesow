event: player enter race

	- retrieve and store nick_id (rs_queryGetNick) (do that first! because nick may already be associated with a player)
    - if nick doesnt exist, insert it as well as a new player (rs_queryAddPlayer) (rs_queryGetPlayer) (rs_queryAddNick)
	- if nick exists, check for nickname protection (rs_queryCheckPlayer)
    - (in AS) store leveltime to compute playtime later (in AS)
	
event: player authenticate

    - retrieve player_id and auth_mask (rs_queryGetPlayer)
	- insert nick for the player if it does not exist (rs_queryGetNick / rs_queryAddNick)
    
event: player disconnect

    - update playtime in player, map, nick, player_map and nick_map
        rs_queryUpdatePlayerPlaytime
        rs_queryUpdateNickPlaytime
        rs_queryUpdateMapPlaytime
        rs_queryUpdatePlayerMapPlaytime
        rs_queryUpdateNickMapPlaytime
    
event: player set new nickname

    - (called in AS) check nickname protection (rs_queryCheckPlayer)

    - is authed (auth_mask > 0)
        -> insert nick for the player if it does not exist (rs_queryGetNick / rs_queryAddNick)
    - else
        -> add player and nick if they do not exist (rs_queryAddPlayer  / rs_queryAddNick)
        -> retrieve and store player_id (rs_queryGetPlayer)
        
    - (why?) retrieve and store nick_id (rs_queryGetNick)
        
        
event: player finish race
    
    - insert race using the stored player_id and nick_id (rs_queryAddRace)
    - update num_races in map, player, nick, player_map and nick_map
        rs_queryUpdatePlayerRaces
        rs_queryUpdateNickRaces
        rs_queryUpdateMapRaces
        rs_queryUpdatePlayerMapRaces
        rs_queryUpdateNickMapRaces
    
    
event: next map / game shutdown
    
     - do the "player disconnect" event for all players